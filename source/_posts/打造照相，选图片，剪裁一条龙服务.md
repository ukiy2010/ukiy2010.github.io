---
title: 打造照相，选图片，剪裁一条龙服务
date: 2016-03-23 19:54:30
tags:
  - Android
  - 功能模块化
---
在我做过的项目中，几乎都会有用户定制头像的功能，今天我们就来介绍一下头像上传功能模块的制作。

## 需求分析

首先让我们来回忆一下上传头像的步骤吧，第一步肯定是在“我的”页面里会看到一个默认头像，然后我们的第一反应是它可以点，当点击它之后会给出我们选择，是拍照还是选取本地图片，由于源图片的大小形状不一，所以我们需要对原始图片进行处理，比如说剪裁，完成后再将其上传到服务器。

有了上述基本需求后，我们再抽象出几个主要的功能点：

1. 默认头像展示
2. 拍照
3. 选取本地图片
4. 剪裁
5. 上传

## 默认头像展示

当用户第一次登陆的时候并没有头像，此时需要设置一个默认头像， 我想到的方案就是设置一个标志位，表示是否设置了头像，如果没有设置就显示默认头像。

## 拍照

用户当场拍的照片是头像的来源之一，我们可以调用系统的拍照功能。

``` Java

```

