---
title: 回溯法+交换实现的数组全排列
date: 2016-04-18 18:09:23
tags:
  - 算法
  - 数组
  - 全排列
  - 回溯法
---

同学在腾讯面试的时候被问了一个算法题，实现数组的全排列，我有两个思路，都利用了回溯法

## 思路一：函数式编程思想，每次计算生成一个新的对象，不对源对象进行修改

``` Java
    public static void recur(List<Integer> in, List<Integer> out) {
        if (in.size() == 0) {
            System.out.println(out);
            return;
        }
        List<Integer> copy = new LinkedList<>(in);

        for (int i = 0; i < copy.size(); i++) {
            //将copy中位置i的元素拿出来放到out最后面
            out.add(copy.remove(i));
            //递归
            recur2(copy, out);
            //将out最后面的元素放回copy中的位置i
            copy.add(i, out.remove(out.size() - 1));
        }
    }
```

这么做的优点是逻辑清晰，缺点是生成了很多中间对象。

## 思路二：对原数组元素进行交换

``` Java
    public static void recur2(List<Integer> a, int start) {
        int len = a.size();
        if (len <= start) {
            System.out.println(a);
            return;
        }
        for (int i = start; i < len; i++) {
            //交换位置start和位置i
            int t = a.get(start);
            a.set(start, a.get(i));
            a.set(i, t);
            //回溯
            recur(a, start + 1);
            //换回来
            t = a.get(start);
            a.set(start, a.get(i));
            a.set(i, t);
        }
    }
```

这么做的优点是不会生成中间对象，缺点是没有思路一那么好理解。